# CLI TODO管理アプリ

コマンドライン上で動作するシンプルなTODO管理アプリケーションです。

## 概要

このアプリケーションは、ターミナル上でタスクの追加・確認・完了処理を行うCLIツールです。データはCSVファイル形式で管理され、直感的な操作でタスク管理を行えます。

## 機能

- **タスク追加**: 新しいタスクを期限付きで登録
- **タスク確認**: 現在のタスク一覧を表示
- **タスク完了**: 既存のタスクを完了状態に変更
- **自然言語モード**: Gemini AIを使った日本語でのタスク操作
- **データ永続化**: CSVファイルによる自動保存

## 環境要件

- Python 3.9以上
- LangChain v1.0+
- OpenRouter API

## セットアップ

1. 依存関係のインストール:
```bash
pip install -r requirements.txt
```

2. 環境変数の設定:
```bash
# .envファイルを作成し、以下を追加
OPENROUTER_API_KEY=your_openrouter_api_key_here
```

OpenRouter APIキーは [OpenRouter](https://openrouter.ai/) から取得できます。

## インストール・セットアップ

1. リポジトリをクローンまたはダウンロード:
```bash
git clone <repository-url>
cd todo_app
```

2. 実行権限を付与（必要に応じて）:
```bash
chmod +x main.py
```

## 実行方法

```bash
python main.py
```

または

```bash
python3 main.py
```

## 使用方法

### 1. アプリケーション起動

```bash
python main.py
```

アプリケーション起動時にメインメニューが表示されます。

### 2. メインメニュー

```
========================================
         CLI TODO管理アプリ
========================================
1. タスク追加
2. タスク確認
3. タスク完了
4. 自然言語モード
5. 終了
========================================
```

### 3. 各機能の使い方

#### タスク追加（オプション1）
- タスク名を入力
- 期限をYYYY-MM-DD形式で入力（省略可能）
- 自動的に「未完了」状態で保存される

#### タスク確認（オプション2）
- 登録済みのすべてのタスクを一覧表示
- 表示形式: `[No.1] タスク名 (期限: 2025-12-01) - Status: 未完了`

#### タスク完了（オプション3）
- 未完了のタスクのみ表示
- 完了にしたいタスクの番号を選択
- 選択されたタスクが「完了」状態に変更

#### 自然言語モード（オプション4）
- OpenRouter AIを使用した自然な日本語でのタスク操作
- 例: "明日までに買い物を追加して"、"1番目のタスクを削除"、"タスク一覧を見せて"
- "戻る"で通常モードに戻る

#### 終了（オプション5）
- アプリケーションを安全に終了

## データファイル

### tasks.csv

タスクデータは `tasks.csv` ファイルに保存されます。初回起動時に自動作成されます。

**CSV構造:**
| カラム名 | 説明 | 例 |
|----------|------|-----|
| task_name | タスク名 | "買い物" |
| due_date | 期限 | "2025-12-01" |
| status | 状態 | "todo" または "done" |
| created_at | 登録日時 | "2025-11-28 15:30:00" |

## プロジェクト構造

```
todo_app/
├── main.py           # メインプログラム
├── tasks.csv         # データファイル（自動生成）
├── README.md         # このファイル
└── requirements.txt  # 依存関係（標準ライブラリのみ）
```

## 開発について

### 技術スタック
- **言語**: Python 3.x
- **データ保存**: CSV形式
- **UI**: コマンドライン（input/print）
- **依存関係**: 標準ライブラリのみ

### コード構造
- `initialize_csv()`: CSVファイル初期化
- `read_tasks()` / `write_tasks()`: データ読み書き
- `add_task()`: タスク追加処理
- `show_tasks()`: タスク表示処理
- `complete_task()`: タスク完了処理
- `main()`: メインループ

## トラブルシューティング

### よくある問題

1. **FileNotFoundError**
   - 初回実行時にCSVファイルが自動作成されます
   - 書き込み権限があることを確認してください

2. **日付形式エラー**
   - 期限はYYYY-MM-DD形式で入力してください
   - 例: 2025-12-31

3. **文字化け**
   - ファイルはUTF-8エンコーディングで保存されます
   - ターミナルがUTF-8をサポートしていることを確認してください

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 貢献

バグ報告や機能追加の提案は、GitHubのIssuesでお知らせください。